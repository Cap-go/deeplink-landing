<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Link Testing Hub</title>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #475569;
            --background: #f8fafc;
            --card: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--secondary);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            position: relative;
        }

        .scroll-button {
            background: var(--primary);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease;
            display: inline-block;
            margin-top: 16px;
        }

        .scroll-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px -1px rgb(0 0 0 / 0.2);
        }

        h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .info-card {
            background: var(--card);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }

        .info-card h2 {
            color: var(--primary);
            margin-bottom: 16px;
        }

        .info-card p {
            margin-bottom: 12px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-bottom: 32px;
        }

        .deep-link-button {
            display: block;
            background: var(--card);
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 16px;
            border-radius: 8px;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-top: 8px;
        }

        .deep-link-button:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .section {
            margin-bottom: 40px;
        }

        .section h3 {
            color: var(--primary);
            margin-bottom: 16px;
        }

        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #e2e8f0;
        }

        .footer a {
            color: var(--primary);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .link-label {
            font-size: 0.875rem;
            color: var(--secondary);
            margin-bottom: 4px;
            word-break: break-all;
        }

        .check-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            background: #f8fafc;
            border-radius: 4px;
            margin-bottom: 8px;
        }
        .check-label {
            font-weight: 500;
        }
        .check-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.875rem;
        }
        .check-status.success {
            background: #dcfce7;
            color: #166534;
        }
        .check-status.error {
            background: #fee2e2;
            color: #991b1b;
        }

        @media (max-width: 600px) {
            .button-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Deep Link Testing Hub</h1>
            <a href="#communication" class="scroll-button" onclick="document.querySelector('#communication').scrollIntoView({behavior: 'smooth'}); return false;">
                Test Deep Links
            </a>
        </header>

        <div class="info-card">
            <h2>What are Deep Links?</h2>
            <p>Deep links are special URLs that can open specific content directly in mobile apps. They create seamless connections between websites and mobile applications, allowing users to access specific in-app content directly from web links.</p>
            
            <h2 style="margin-top: 24px;">Deep Linking Evolution</h2>
            <p><strong>Traditional URL Schemes (Old System):</strong><br>
            The original deep linking method uses custom URL schemes (like "fb://" or "twitter://"). While simple to implement, they have limitations: no fallback if the app isn't installed, potential URL scheme conflicts, and no verification of app ownership.</p>
            
            <p><strong>Universal Links & App Links (Current Standard):</strong><br>
            Modern deep linking uses Universal Links (iOS) and App Links (Android). These systems provide:
            </p>
            <ul style="margin-left: 20px; margin-bottom: 16px;">
                <li>Secure verification of app-website associations</li>
                <li>Seamless fallback to web content if the app isn't installed</li>
                <li>Better user experience with no prompts or redirects</li>
                <li>Protection against URL scheme hijacking</li>
            </ul>
            
            <p><strong>Deferred Deep Linking:</strong><br>
            This advanced technique allows storing the deep link destination when a user doesn't have the app installed. After installation, the app can automatically navigate to the intended content, creating a smooth user experience.</p>
            
            <p><strong>Firebase Dynamic Links:</strong><br>
            A popular solution that combines the benefits of universal links with additional features like analytics, multi-platform support, and social media optimization.</p>
        </div>

        <div class="info-card">
            <h2>iOS Deep Linking Setup</h2>
            <div style="margin-bottom: 24px;">
                <h3 style="color: var(--primary); margin-bottom: 16px;">1. Opening Deep Links from Your App</h3>
                <p>To open other apps from your iOS app:</p>
                <ol style="margin-left: 20px; margin-bottom: 16px;">
                    <li>Configure LSApplicationQueriesSchemes in Info.plist:
                        <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>&lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;
&lt;array&gt;
    &lt;string&gt;whatsapp&lt;/string&gt;
    &lt;string&gt;telegram&lt;/string&gt;
    &lt;string&gt;twitter&lt;/string&gt;
    &lt;string&gt;instagram&lt;/string&gt;
    &lt;string&gt;fb&lt;/string&gt;
    &lt;string&gt;linkedin&lt;/string&gt;
    &lt;string&gt;spotify&lt;/string&gt;
    &lt;string&gt;youtube&lt;/string&gt;
    &lt;string&gt;maps&lt;/string&gt;
    &lt;string&gt;waze&lt;/string&gt;
&lt;/array&gt;</code></pre>
                        </div>
                    </li>
                    <li>Implement the opening code:
                        <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>// In your Swift code
func openDeepLink(scheme: String, path: String) {
    if let url = URL(string: "\(scheme)://\(path)") {
        if UIApplication.shared.canOpenURL(url) {
            UIApplication.shared.open(url)
        }
    }
}</code></pre>
                        </div>
                    </li>
                </ol>
            </div>

            <div>
                <h3 style="color: var(--primary); margin-bottom: 16px;">2. Receiving Deep Links in Your App</h3>
                <p>To receive deep links in your iOS app:</p>
                <ol style="margin-left: 20px; margin-bottom: 16px;">
                    <li>Add URL schemes in Xcode:
                        <ul>
                            <li>Open your project in Xcode</li>
                            <li>Select your target</li>
                            <li>Go to "Info" tab</li>
                            <li>Add URL schemes in "URL Types"</li>
                        </ul>
                    </li>
                    <li>Configure Universal Links:
                        <ul>
                            <li>Create an apple-app-site-association file</li>
                            <li>Host it at /.well-known/apple-app-site-association</li>
                            <li>Enable "Associated Domains" capability</li>
                            <li>Add domain to Associated Domains list</li>
                        </ul>
                    </li>
                    <li>Implement the receiving code:
                        <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>// In your AppDelegate.swift
func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -> Bool {
    // Handle deep link
    return true
}</code></pre>
                        </div>
                    </li>
                </ol>
            </div>
        </div>

        <div class="info-card">
            <h2>Android Deep Linking Setup</h2>
            <div style="margin-bottom: 24px;">
                <h3 style="color: var(--primary); margin-bottom: 16px;">1. Opening Deep Links from Your App</h3>
                <p>To open other apps from your Android app:</p>
                <ol style="margin-left: 20px; margin-bottom: 16px;">
                    <li>Add queries to AndroidManifest.xml:
                        <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>&lt;queries&gt;
    &lt;package android:name="com.whatsapp" /&gt;
    &lt;package android:name="org.telegram.messenger" /&gt;
    &lt;package android:name="com.twitter.android" /&gt;
    &lt;package android:name="com.instagram.android" /&gt;
    &lt;package android:name="com.facebook.katana" /&gt;
    &lt;package android:name="com.linkedin.android" /&gt;
    &lt;package android:name="com.spotify.music" /&gt;
    &lt;package android:name="com.google.android.youtube" /&gt;
    &lt;package android:name="com.google.android.apps.maps" /&gt;
    &lt;package android:name="com.waze" /&gt;
&lt;/queries&gt;</code></pre>
                        </div>
                    </li>
                    <li>Implement the opening code:
                        <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>// In your Kotlin code
fun openDeepLink(scheme: String, path: String) {
    val intent = Intent(Intent.ACTION_VIEW, Uri.parse("$scheme://$path"))
    startActivity(intent)
}</code></pre>
                        </div>
                    </li>
                </ol>
            </div>

            <div>
                <h3 style="color: var(--primary); margin-bottom: 16px;">2. Receiving Deep Links in Your App</h3>
                <p>To receive deep links in your Android app:</p>
                <ol style="margin-left: 20px; margin-bottom: 16px;">
                    <li>Configure AndroidManifest.xml:
                        <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>&lt;activity android:name=".MainActivity"&gt;
    &lt;intent-filter&gt;
        &lt;action android:name="android.intent.action.VIEW" /&gt;
        &lt;category android:name="android.intent.category.DEFAULT" /&gt;
        &lt;category android:name="android.intent.category.BROWSABLE" /&gt;
        
        <!-- Old method: URL scheme -->
        &lt;data android:scheme="myapp" /&gt;
        
        <!-- New method: App Links -->
        &lt;data
            android:scheme="https"
            android:host="example.com"
            android:pathPrefix="/app" /&gt;
    &lt;/intent-filter&gt;
&lt;/activity&gt;</code></pre>
                        </div>
                    </li>
                    <li>Configure Digital Asset Links:
                        <ul>
                            <li>Create assetlinks.json file</li>
                            <li>Host it at /.well-known/assetlinks.json</li>
                            <li>Example content:
                                <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                                    <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>[{
  "relation": ["delegate_permission/common.handle_all_urls"],
  "target": {
    "namespace": "android_app",
    "package_name": "com.example.app",
    "sha256_cert_fingerprints": ["YOUR_APP_SIGNING_KEY_SHA256"]
  }
}]</code></pre>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li>Implement the receiving code:
                        <div style="background: #f1f5f9; padding: 12px; border-radius: 4px; margin-top: 8px; overflow-x: auto;">
                            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;"><code>// In your MainActivity.kt
override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    handleIntent(intent)
}

override fun onNewIntent(intent: Intent?) {
    super.onNewIntent(intent)
    handleIntent(intent)
}

private fun handleIntent(intent: Intent?) {
    if (intent?.action == Intent.ACTION_VIEW) {
        val uri = intent.data
        // Handle deep link
    }
}</code></pre>
                        </div>
                    </li>
                </ol>
            </div>
        </div>

        <section class="section" id="communication">
            <h3>Communication</h3>
            <div class="button-grid">
                <div>
                    <div class="link-label">tel:+1234567890</div>
                    <a href="tel:+1234567890" class="deep-link-button">
                        Phone Call
                    </a>
                </div>
                <div>
                    <div class="link-label">sms:+1234567890</div>
                    <a href="sms:+1234567890" class="deep-link-button">
                        Send SMS
                    </a>
                </div>
                <div>
                    <div class="link-label">mailto:test@example.com?subject=Test&body=Hello</div>
                    <a href="mailto:test@example.com?subject=Test&body=Hello" class="deep-link-button">
                        Send Email
                    </a>
                </div>
                <div>
                    <div class="link-label">whatsapp://send?text=Hello</div>
                    <a href="whatsapp://send?text=Hello" class="deep-link-button">
                        WhatsApp
                    </a>
                </div>
                <div>
                    <div class="link-label">telegram://resolve?domain=username</div>
                    <a href="telegram://resolve?domain=username" class="deep-link-button">
                        Telegram
                    </a>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>Social Media</h3>
            <div class="button-grid">
                <div>
                    <div class="link-label">twitter://user?screen_name=twitter</div>
                    <a href="twitter://user?screen_name=twitter" class="deep-link-button">
                        Twitter Profile
                    </a>
                </div>
                <div>
                    <div class="link-label">instagram://user?username=instagram</div>
                    <a href="instagram://user?username=instagram" class="deep-link-button">
                        Instagram Profile
                    </a>
                </div>
                <div>
                    <div class="link-label">fb://profile/33138223345</div>
                    <a href="fb://profile/33138223345" class="deep-link-button">
                        Facebook Profile
                    </a>
                </div>
                <div>
                    <div class="link-label">linkedin://profile</div>
                    <a href="linkedin://profile" class="deep-link-button">
                        LinkedIn
                    </a>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>Maps & Navigation</h3>
            <div class="button-grid">
                <div>
                    <div class="link-label">geo:37.7749,-122.4194</div>
                    <a href="geo:37.7749,-122.4194" class="deep-link-button">
                        Open Coordinates
                    </a>
                </div>
                <div>
                    <div class="link-label">maps://maps.google.com/maps?q=San+Francisco</div>
                    <a href="maps://maps.google.com/maps?q=San+Francisco" class="deep-link-button">
                        Google Maps Search
                    </a>
                </div>
                <div>
                    <div class="link-label">waze://?ll=37.7749,-122.4194</div>
                    <a href="waze://?ll=37.7749,-122.4194" class="deep-link-button">
                        Waze Navigation
                    </a>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>Other Apps</h3>
            <div class="button-grid">
                <div>
                    <div class="link-label">spotify://track/6rqhFgbbKwnb9MLmUQDhG6</div>
                    <a href="spotify://track/6rqhFgbbKwnb9MLmUQDhG6" class="deep-link-button">
                        Spotify Track
                    </a>
                </div>
                <div>
                    <div class="link-label">youtube://www.youtube.com/watch?v=dQw4w9WgXcQ</div>
                    <a href="youtube://www.youtube.com/watch?v=dQw4w9WgXcQ" class="deep-link-button">
                        YouTube Video
                    </a>
                </div>
                <div>
                    <div class="link-label">market://details?id=com.example.app</div>
                    <a href="market://details?id=com.example.app" class="deep-link-button">
                        Play Store App
                    </a>
                </div>
            </div>
        </section>

        <div class="info-card">
            <h2>Testing Tips</h2>
            <p>• Not all deep links may work on every device or platform</p>
            <p>• Some apps might need to be installed for deep links to work</p>
            <p>• iOS and Android might handle deep links differently</p>
            <p>• Custom URL schemes are specific to each app</p>
        </div>

        <div class="info-card">
            <h2>Check Deep Link Setup</h2>
            <p>Enter your domain to verify deep link configuration:</p>
            <div style="margin-top: 16px;">
                <input type="text" id="domain" placeholder="example.com" style="width: 100%; padding: 8px; border: 2px solid var(--primary); border-radius: 4px; margin-bottom: 16px;">
                <button onclick="checkDeepLinkSetup()" style="background: var(--primary); color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer;">Check Setup</button>
            </div>
            <div id="checkResults" style="margin-top: 24px;">
                <div style="margin-bottom: 24px;">
                    <h3 style="color: var(--primary); margin-bottom: 16px;">iOS Configuration</h3>
                    <div id="iosResults" style="display: none;">
                        <div class="check-item">
                            <span class="check-label">apple-app-site-association:</span>
                            <span class="check-status" id="iosAasa">Checking...</span>
                        </div>
                        <div class="check-item">
                            <span class="check-label">Content-Type:</span>
                            <span class="check-status" id="iosContentType">Checking...</span>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 style="color: var(--primary); margin-bottom: 16px;">Android Configuration</h3>
                    <div id="androidResults" style="display: none;">
                        <div class="check-item">
                            <span class="check-label">assetlinks.json:</span>
                            <span class="check-status" id="androidAssetlinks">Checking...</span>
                        </div>
                        <div class="check-item">
                            <span class="check-label">Content-Type:</span>
                            <span class="check-status" id="androidContentType">Checking...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            async function checkDeepLinkSetup() {
                const domain = document.getElementById('domain').value.trim();
                if (!domain) {
                    alert('Please enter a domain');
                    return;
                }

                // Show results containers
                document.getElementById('iosResults').style.display = 'block';
                document.getElementById('androidResults').style.display = 'block';

                // Check iOS configuration
                try {
                    const aasaResponse = await fetch(`https://${domain}/.well-known/apple-app-site-association`);
                    const aasaStatus = aasaResponse.ok ? 'success' : 'error';
                    const aasaText = aasaResponse.ok ? 'Found' : 'Not found';
                    document.getElementById('iosAasa').className = `check-status ${aasaStatus}`;
                    document.getElementById('iosAasa').textContent = aasaText;

                    const contentType = aasaResponse.headers.get('content-type');
                    const contentTypeStatus = contentType?.includes('application/json') ? 'success' : 'error';
                    const contentTypeText = contentType || 'Not set';
                    document.getElementById('iosContentType').className = `check-status ${contentTypeStatus}`;
                    document.getElementById('iosContentType').textContent = contentTypeText;
                } catch (error) {
                    document.getElementById('iosAasa').className = 'check-status error';
                    document.getElementById('iosAasa').textContent = 'Error checking';
                    document.getElementById('iosContentType').className = 'check-status error';
                    document.getElementById('iosContentType').textContent = 'Error checking';
                }

                // Check Android configuration
                try {
                    const assetlinksResponse = await fetch(`https://${domain}/.well-known/assetlinks.json`);
                    const assetlinksStatus = assetlinksResponse.ok ? 'success' : 'error';
                    const assetlinksText = assetlinksResponse.ok ? 'Found' : 'Not found';
                    document.getElementById('androidAssetlinks').className = `check-status ${assetlinksStatus}`;
                    document.getElementById('androidAssetlinks').textContent = assetlinksText;

                    const contentType = assetlinksResponse.headers.get('content-type');
                    const contentTypeStatus = contentType?.includes('application/json') ? 'success' : 'error';
                    const contentTypeText = contentType || 'Not set';
                    document.getElementById('androidContentType').className = `check-status ${contentTypeStatus}`;
                    document.getElementById('androidContentType').textContent = contentTypeText;
                } catch (error) {
                    document.getElementById('androidAssetlinks').className = 'check-status error';
                    document.getElementById('androidAssetlinks').textContent = 'Error checking';
                    document.getElementById('androidContentType').className = 'check-status error';
                    document.getElementById('androidContentType').textContent = 'Error checking';
                }
            }
        </script>

        <footer class="footer">
            <p>Created by <a href="https://capgo.app/" target="_blank">Capgo.app</a> - The Universal App Update Solution</p>
        </footer>
    </div>
</body>
</html>
